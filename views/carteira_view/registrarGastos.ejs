<!DOCTYPE html>
<html lang="PT-BR">
<head>
  <title>Registrar Gastos</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="/styles.css">
  <script src="/DLL.js"></script>
</head>
<body>
  <div class="w3-container w3-green">
    <h1>Registrar Gastos</h1>
  </div>
  
  <form class="w3-container" action="/Carteira/CofirmarRegistroGastos" method="post">
    <label class="w3-text-black"><h2>Valor</h2></label>
    <input class="form-control" type="number" step="0.01" name="valor" id="valor" style="width: auto;" >
    <br>

    <select class="form-control me-2" name="motivoGastos" style="width: auto;">
      <option value="" disabled selected>Motivo</option>
      <% Motivos.forEach(m => { %>
        <option value="<%= m.id %>|<%= m.descricao %>"><%= m.descricao %></option>        
      <% }); %>
    </select>
    <br>

    <input class="w3-input w3-border form-control me-2" type="date" name="dtVencimento">
    <br>

    <select class="form-control me-2" name="formaPagamento" style="width: auto;">
      <option value="" disabled selected>Forma de Pagamento</option>           
      <option value="DINHEIRO">DINHEIRO</option>
      <option value="CARTAO">CARTAO</option>
    </select>
    <br>

    <select class="form-control me-2" name="conta" style="width: auto;">      
      <option value="" disabled selected>Contas</option>              
      <% Contas.forEach(c => { %>
        <option value="<%= c.id %>|<%= c.descricao %>"><%= c.descricao %></option>
      <% }); %>
    </select>
    <br>

    <div id="orcamentodiv">
      <input type="checkbox" name="orcamento" id="orcamento" onclick="checkName('orcamento',['parceladodiv','pagodiv','faturadiv'])"> Esse registro é para um ORÇAMENTO?
    </div>

    <div id="parceladodiv">
      <input type="checkbox" name="parcelado" id="parcelado" onclick="checkName('parcelado',['fimAnodiv','orcamentodiv'])"> Esse valor é parcelado?
      <br>
        <div id="divTpValor" hidden>          
          <input type="radio" id="tpValorBruto" name="tpValor" value="B">
          <label for="age1">Valor é BRUTO</label><br>
          <input type="radio" id="tpValorParcela" name="tpValor" value="P">
          <label for="age2">Valor é da PARCELA</label><br>
        </div>      
      
    </div>

    <input placeholder="Quantas parcelas?" class="w3-input w3-border form-control me-2" name="qtParcelas" step="0.01" type="number" id="qtParcelas" hidden>

    <div id="fimAnodiv">
      <input type="checkbox" name="fimAno" id="fimAno" onclick="checkName('fimAno',['parceladodiv'])"> Gerar registro até fim do ano?
    </div>    

    <div id="pagodiv">
      <input type="checkbox" name="pago" id="pago"> Registrar essa como paga?
    </div>

    <div id="faturadiv">
      <input type="checkbox" name="fatura" id="fatura"> Incluir na fatura?
    </div>

    <hr>

    <a href="/Menu" class="btn btn-primary">Voltar</a>
    <button type="submit" class="btn w3-green">Confirmar</button>    
  </form>
</body>
</html>
